/*! For license information please see 74.a5f081d1.chunk.js.LICENSE.txt */
(self.webpackChunkaha_app=self.webpackChunkaha_app||[]).push([[74],{5557:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(1243);function a(e){var t=n.Z.create();return t.interceptors.request.use((function(e){return e.url="https://avl-frontend-exam.herokuapp.com/api/"+e.url,e}),(function(e){return Promise.reject(e)})),t.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)})),t(e)}},9321:function(e,t,r){"use strict";r.d(t,{ZP:function(){return c}});var n=r(1694),a=r.n(n),s=r(184),o={LARGE:"large",SMALL:"small"},i={OUTLINED:"outlined",CONTAINED:"contained"},u=o.LARGE,l=i.CONTAINED;function c(e){var t=e.size,r=void 0===t?u:t,n=e.type,o=void 0===n?l:n,i=e.children,c=e.onClick,d=o===l?"border-[1px] border-solid border-white bg-white text-black hover:bg-transparent hover:text-white":"border-[1px] border-solid border-white bg-transparent text-white hover:bg-white hover:text-black",p=r===u?"w-full max-w-[335px] h-10 rounded text-sm font-bold":"px-2.5 h-8 rounded-[20px] text-xs";return(0,s.jsx)("button",{onClick:c,type:"button",className:a()("flex items-center justify-center",d,p),children:i})}c.ButtonSize=o,c.ButtonType=i},8074:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(2791),a=r(7689),s=r(9321),o=r(184);function i(e){var t=e.value,r=e.onChange,a=e.placeholder,s=(0,n.useCallback)((function(e){r(e.target.value)}),[r]);return(0,o.jsx)("input",{className:"focus-visible:none focus:outline-none focus:border-focus w-full rounded-md border-[3px] border-solid border-white border-opacity-50 bg-transparent px-4 py-5",value:t,onChange:s,placeholder:a})}var u=r(1694),l=r.n(u);function c(e){var t=e.children,r=e.onChange,a=e.value,s=(0,n.useMemo)((function(){return"input-range-style-".concat(a)}),[a]),i=(0,n.useCallback)((function(e){r(e.target.value)}),[r]);return(0,o.jsxs)("div",{className:"w-full",children:[t,(0,o.jsx)("input",{type:"range",min:3,max:15,step:1,className:l()("input-range",s),name:"temp",list:"values",value:a,onChange:i}),(0,o.jsxs)("datalist",{id:"values",className:"flex items-center justify-between",children:[(0,o.jsx)("option",{className:"text-base opacity-50",value:"3",label:"3"}),(0,o.jsx)("option",{className:"text-base opacity-50",value:"6",label:"6"}),(0,o.jsx)("option",{className:"text-base opacity-50",value:"9",label:"9"}),(0,o.jsx)("option",{className:"text-base opacity-50",value:"12",label:"12"}),(0,o.jsx)("option",{className:"text-base opacity-50",value:"15",label:"15"})]})]})}function d(e){var t=e.title,r=e.children;return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"mb-5 text-2xl leading-9",children:t}),r,(0,o.jsx)("hr",{className:"hidden md:block border-t-1 my-[30px] border-solid border-white border-opacity-50"})]})}var p=r(1122);function f(){var e=(0,p._)(),t=e.pages,r=e.searchParams,u=e.handleChangeKeyword,l=e.handleChangePerPage,f=e.isReady,h=(0,a.s0)(),g=(0,n.useCallback)((function(){h("/result?keyword=".concat(r.keyword,"&perPage=").concat(r.perPage))}),[h,r]);return(0,o.jsxs)("div",{className:"mx-auto flex h-full w-full max-w-[720px] flex-col",children:[(0,o.jsx)(d,{title:"Search",children:(0,o.jsx)(i,{value:r.keyword,onChange:u,placeholder:"Keyword"})}),(0,o.jsx)(d,{title:"# Of Results Per Page",children:(0,o.jsx)(c,{value:r.perPage,onChange:l,children:f?(0,o.jsxs)("p",{className:"text-5xl leading-[72px]",children:[t.total," ",(0,o.jsx)("span",{className:"text-base",children:"results"})]}):(0,o.jsxs)("div",{className:"flex h-[72px] animate-pulse items-end",children:[(0,o.jsx)("div",{className:"flex h-full w-10 items-center",children:(0,o.jsx)("div",{className:"h-2 w-full  bg-slate-700"})}),(0,o.jsx)("span",{className:"text-base",children:"results"})]})})}),(0,o.jsxs)("div",{className:"flex flex-1 flex-col justify-end",children:[(0,o.jsx)("hr",{className:"border-t-1 mb-20 block border-solid border-white border-opacity-10 md:hidden"}),(0,o.jsx)(s.ZP,{onClick:g,size:s.ZP.ButtonSize.LARGE,type:s.ZP.ButtonType.CONTAINED,children:"SEARCH"})]})]})}},1122:function(e,t,r){"use strict";r.d(t,{O:function(){return v},_:function(){return g}});var n=r(7762),a=r(9439),s=r(2791),o=r(1933),i=r(1087),u=function(e){void 0===e&&(e={});var t=(0,s.useState)(e),r=t[0],n=t[1];return[r,(0,s.useCallback)((function(e){n((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[])]};function l(e,t,r){void 0===t&&(t=0),void 0===r&&(r=[]);var n=function(e,t){void 0===t&&(t=0);var r=(0,s.useRef)(!1),n=(0,s.useRef)(),a=(0,s.useRef)(e),o=(0,s.useCallback)((function(){return r.current}),[]),i=(0,s.useCallback)((function(){r.current=!1,n.current&&clearTimeout(n.current),n.current=setTimeout((function(){r.current=!0,a.current()}),t)}),[t]),u=(0,s.useCallback)((function(){r.current=null,n.current&&clearTimeout(n.current)}),[]);return(0,s.useEffect)((function(){a.current=e}),[e]),(0,s.useEffect)((function(){return i(),u}),[t]),[o,u,i]}(e,t),a=n[0],o=n[1],i=n[2];return(0,s.useEffect)(i,r),[a,o]}var c=r(5557),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,r=e.pageSize,n=void 0===r?10:r,a=e.keyword,s=void 0===a?"":a;return(0,c.Z)({method:"GET",url:"users/all",params:{page:t,pageSize:n,keyword:s}}).then((function(e){return e}))},p=r(1822),f=r(184),h=(0,s.createContext)(void 0);function g(){var e=(0,s.useContext)(h);if(void 0===e)throw new Error("useHome must be used within a HomeProvider");return e}function v(e){var t=e.children,r=(0,i.lr)(),c=(0,a.Z)(r,1)[0],g=(0,s.useMemo)((function(){var e,t={},r=(0,n.Z)(c.entries());try{for(r.s();!(e=r.n()).done;){var s=e.value,o=(0,a.Z)(s,2),i=o[0],u=o[1];t[i]=u}}catch(l){r.e(l)}finally{r.f()}return t}),[c]),v=g.perPage,x=void 0===v?9:v,b=g.keyword,m=u({keyword:void 0===b?"":b,perPage:x}),y=(0,a.Z)(m,2),j=y[0],w=y[1],P=(0,s.useCallback)((function(e){w({keyword:e})}),[w]),N=(0,s.useCallback)((function(e){w({perPage:e})}),[w]),k=(0,o.useInfiniteQuery)(["result"],(function(e){var t=e.pageParam;return d({page:void 0===t?1:t,pageSize:j.perPage,keyword:j.keyword})}),{enabled:!1,getNextPageParam:function(e){return e.page+1<=e.totalPages?e.page+1:void 0}}),C=k.data,S=k.isLoading,E=k.isError,Z=k.hasNextPage,z=k.isFetchingNextPage,A=k.fetchNextPage,R=k.refetch,T=k.remove,O=(0,s.useMemo)((function(){return(0,p.H)(C)}),[C]),L=O.list,H=O.pages,I=l((function(){T(),R()}),500,[j]),M=(0,a.Z)(I,1)[0],B=(0,s.useMemo)((function(){return{isReady:M(),data:L,pages:H,isLoading:S,isFetchingNextPage:z,isError:E,searchParams:j,handleChangeKeyword:P,handleChangePerPage:N,hasNextPage:Z,fetchNextPage:A}}),[M,L,H,S,z,E,j,P,N,Z,A]);return(0,f.jsx)(h.Provider,{value:B,children:t})}},1822:function(e,t,r){"use strict";r.d(t,{H:function(){return a}});var n=r(3433),a=function(e){var t,r={list:[],pages:{total:0,totalPages:0,page:0,pageSize:0}};return e?(r.list=null===e||void 0===e||null===(t=e.pages)||void 0===t?void 0:t.reduce((function(e,t){return e.push.apply(e,(0,n.Z)(t.data)),e}),[]),r.pages={total:e.pages[0].total,totalPages:e.pages[0].totalPages,page:e.pages[0].page,pageSize:e.pages[0].pageSize},r):r}},1694:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var s=typeof r;if("string"===s||"number"===s)e.push(r);else if(Array.isArray(r)){if(r.length){var o=a.apply(null,r);o&&e.push(o)}}else if("object"===s){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()}}]);
//# sourceMappingURL=74.a5f081d1.chunk.js.map